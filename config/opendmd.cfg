# opendmd.conf
#
# This config file was generated by opendmd 0.0.1

###########################################################
# Progress Basic Settings
###########################################################

# progress's log level, equivalent to syslog log level;
# in debug mode, default log level is LOG_INFO,
# in release mode, default log level is LOG_ERR;
# define LOG_EMERG   0   /* system is unusable */
# define LOG_ALERT   1   /* action must be taken immediately */
# define LOG_CRIT    2   /* critical conditions */
# define LOG_ERR     3   /* error conditions */
# define LOG_WARNING 4   /* warning conditions */
# define LOG_NOTICE  5   /* normal but significant condition */
# define LOG_INFO    6   /* informational */
# define LOG_DEBUG   7   /* debug-level messages */
log_level LOG_DEBUG

# cluster node: a node works as slave node, master node or singleton node;
# cluster mode: slave, master, or singleton
# slave: as a working node, responsible for capturing and sending;
# master: as a master node, responsible for receiving and saving;
# singleton: only one node in whole cluster , capturing and saving;
# default: set as singleton, changed at config_parse;
cluster_mode singleton


###########################################################
# Global Runing Settings
###########################################################

# run in daemon mode (default: off)
daemon_mode off

# pid file, which is used to store main process ID.
# (default: $(HOME)/opendmd/opendmd.pid or /var/run/opendmd/opendmd.pid.)
# pid_file /var/run/opendmd/opendmd.pid
pid_file /home/wzw/opendmd/opendmd.pid

# the opendmd working mode: capture picture, capture video or all;
# valid value: picture, video, all;
working_mode video

# config file
# config_file /home/wzw/opendmd/opendmd.cfg


###########################################################
# Video Device Settings
###########################################################

# Video device used for capturing, (default: /dev/video0)
video_device /dev/video0

# Image width in pixels. (default: 640)
image_width 640

# Image height in pixels. (default: 480)
image_height 480

# mmap req.count. (default: 5, range: 1~5)
req_count 5


###########################################################
# Motion Detection Threshold Settings
###########################################################

# the pixels threshold motion occured
diff_pixels 3000

# the deviation pixels allowed.
diff_deviation 20

# the time (in seonds) elapsed when last motion detected
# before video capturing stoped, (default: 5)
video_duration 5


###########################################################
# Captured picture/video Store Settings
###########################################################

# captured picture format, (default: jpeg);
# valid value: bmp, jpeg, png, at present support jpeg only.
picture_format jpeg

# captured video format, (default: h264);
# valid value: h264 and others, at present support h264 only.
video_format h264

# captured picture/video storage directory.
# (default: $(HOME)/opendmd)
#   picture: $(HOME)/opendmd/picture)
#   video:   $(HOME)/opendmd/video)
store_dir /home/wzw/opendmd

